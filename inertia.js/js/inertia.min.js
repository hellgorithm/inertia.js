var inertiaObject={animatestart:0,inertiaTag:["html","head","slide"],inertiaId:["slide-number","mystatus"],master:document.getElementsByTagName("html"),myHead:document.getElementsByTagName("head"),canvas:document.getElementsByTagName("slide"),highlight:false,zoomed:false,scale:1,zoomedCount:0,mycurrentselection:0,myslidenumber:0,currentAnimationSize:0,transitionInterval:null,unsupportedFeature:new Array,animationSlideRemoval:null,autoPlayer:null},inertia=function(){},inertiaTool=function(){var e="<div id='toolbar'>"+"<div id='mystatus'></div>"+"<select id='slide-number'><option value='select'>Select Slide</option></select><input type='button' onclick='goSlide()' value='go'>"+"<button id='prev'>Prev</button>"+"<button id='next'>Next</button>"+"</div>";var t=document.getElementsByTagName("body");t[0].innerHTML+=e},goSlide=function(){var e=document.URL;var t=e.split("#");var n=t[1];var r=document.getElementById(inertiaObject.inertiaId[0]).value;if(n==r){alert("You are there!")}else if(r=="select"){alert("Please select slide!")}else{window.location="#"+r;jumpTo(parseInt(n),parseInt(r))}},canvasConfig=function(){this.canvasWide=900;this.canvasHeight=600;this.canvasId="mymaincanvas";this.screenWide=screen.width;this.screenHeight=screen.height;this.calculatePositionX=0;this.calculatePositionY=0},getTitle=function(e){var t=inertiaObject.canvas;if(typeof t[e]!="undefined"){var n=t[e].getElementsByTagName("header")}else{var n=["false"]}if(n[0]){document.title=n[0].innerHTML}else{var r=t[e].getElementsByClassName("resources");if(typeof r[0]!="undefined"){document.title=r[0].innerHTML}else{document.title="Slide "+e}}},setStat=function(e){var t=document.getElementById(inertiaObject.inertiaId[1]);t.style.display="inline-block";t.style.marginRight="5px";t.innerHTML=e+"/"+(inertiaObject.canvas.length-1)},navigateNext=function(e,t){if(t<inertiaObject.myslidenumber){var n=new checkchild(e);var r=n.animateChild();if(r==1){var i=new mytransition(e,t);var s=i.checktrans();var o=new initializeResources;o.load(t);var u=new checkimage;u.init(t,parseInt(t)-1);inertiaObject.mycurrentselection=t;window.location="#"+t}}else{alert("End of Slide. Thank you!")}},navigatePrev=function(e,t){if(e>0){var n=new mytransition(e,t);var r=n.checktrans();var i=new initializeResources;i.load(t);var s=new checkimage;s.init(parseInt(e)-1,e);inertiaObject.mycurrentselection=t;window.location="#"+t}},jumpTo=function(e,t){var n=new mytransition(e,t);var r=n.checktrans();var i=new initializeResources;i.load(t);var s=new checkimage;s.init(t,e);inertiaObject.mycurrentselection=t;window.location="#"+t},checkAutoPlay=function(e,t){this.myparent=inertiaObject.canvas[e];this.mychild=this.myparent.getElementsByClassName("resources");for(var n=0;n<this.mychild.length;n++){if(this.mychild[n].getAttribute("animatesequence")==t){var r=this.mychild[n].getAttribute("autoplay");if(typeof r!="undefined"&&r!=null){var i=r.match(/ms/);var s=r.match(/s/);if(i=="ms"){var o=parseInt(r)}else if(s=="s"){var o=parseInt(r)*1e3}inertiaObject.autoPlayer=setTimeout(function(){var t=parseInt(e)+1;navigateNext(e,t);if(currentAnimationSize==inertiaObject.animatestart){var t=parseInt(e)+1;var n=inertiaObject.canvas[t];var r=n.getAttribute("autoplay");if(typeof r!="undefined"&&r!=null){var i=r.match(/ms/);var s=r.match(/s/);if(i=="ms"){var o=parseInt(r)}else if(s=="s"){var o=parseInt(r)*1e3}inertiaObject.autoPlayer=setTimeout(function(){navigateNext(e,t)},o)}}},o)}else{}}}},insertEndSlide=function(){var e=document.getElementsByTagName("presentation-view")[0];var t=document.createElement("slide");t.innerHTML="End of slide, theres nothing you can do about it or just press left arrow key";e.appendChild(t)};window.onload=function(){inertiaTool();insertEndSlide();var e=new canvasConfig;e.checkHTML();e.canvasInit();e.aspectRatio();e.initializeCSS();var t=new inertia;t.load();var n=new inertiaZoom;n.init()};window.onresize=function(){var e=new canvasConfig;e.aspectRatio()};canvasConfig.prototype={checkHTML:function(){typeof canvas?console.log("canvas"):inertiaObject.unsupportedFeature.push("canvas")},canvasInit:function(){this.calculatePositionX=(this.screenWide-this.canvasWide)/2;this.calculatePositionY=(this.screenHeight-this.canvasHeight)/2;var e=inertiaObject.canvas;inertiaObject.myslidenumber=e.length;simulate3d();for(var t=0;t<e.length;t++){e[t].style.height=this.canvasHeight+"px";e[t].style.width=this.canvasWide+"px";e[t].style.boxShadow="0px 2px 15px #000";e[t].style.position="fixed";e[t].style.zIndex="-10";e[t].style.opacity="0";e[t].style.display="none";__x(e[t],"perspective","1200px")}for(var n=0;n<e.length;n++){var r=document.getElementById("slide-number");r.innerHTML+="<option value='"+n+"'>"+n+"</option>"}},aspectRatio:function(){var e=inertiaObject.canvas;for(var t=0;t<e.length;t++){var n=this.canvasHeight;var r=this.canvasWide;var i=parseInt(window.innerHeight);var s=parseInt(window.innerWidth);var o=i/2-this.canvasHeight/2;var u=s/2-this.canvasWide/2;e[t].style.position="fixed";e[t].style.top=o+"px";e[t].style.left=u+"px";e[t].style.transform="";if(i<n&&s>r){var a=n-i;var f=(n-a)/n;e[t].style.transform="scale("+f+")";e[t].style.webkitTransform="scale("+f+")";inertiaObject.scale=f}if(s<r&&i>n){var a=r-s;var f=(r-a)/r;e[t].style.transform="scale("+f+")";e[t].style.webkitTransform="scale("+f+")";inertiaObject.scale=f}if(s<r&&i<n){var l=r-s;var c=n-i;if(l>c){var a=r-s;var f=(r-a)/r;e[t].style.transform="scale("+f+")";e[t].style.webkitTransform="scale("+f+")";inertiaObject.scale=f}else{var a=n-i;var f=(n-a)/n;e[t].style.transform="scale("+f+")";e[t].style.webkitTransform="scale("+f+")";inertiaObject.scale=f}}if(s>r&&i>n){e[t].style.transform="scale(1)";e[t].style.webkitTransform="scale(1)";inertiaObject.scale=1}}},initializeCSS:function(){var e=new stylesheet;e.checkZoomSheet();var t=new stylesheet;t.checkSheet()}};inertia.prototype={load:function(){var e=document.URL;var t=e.split("#");inertiaObject.mycurrentselection=t[1]!=null?t[1]:window.location=document.URL+"#0";var n=new canvasConfig;var r=n.screenHeight;var i=n.screenWide;var s=new initializeResources;s.load(inertiaObject.mycurrentselection);var o=document.getElementsByTagName("slide");var u=o.length;var a=new execTrans(parseInt(inertiaObject.mycurrentselection)-1,inertiaObject.mycurrentselection);a["transfadein"]();getTitle(inertiaObject.mycurrentselection);setStat(inertiaObject.mycurrentselection);checkAutoPlay(inertiaObject.mycurrentselection,inertiaObject.animatestart+1);for(var f=0;f<u;f++){var l=inertiaObject.canvas;var c=l[f].getElementsByClassName("backgroundImage");for(var h=0;h<c.length;h++){var p=c[h].getAttribute("imgsrc");var d=document.getElementsByTagName("body")[0];var v=document.createElement("div");v.setAttribute("class","mybg");v.setAttribute("id","mybg"+f);v.setAttribute("style","height:"+r+"px;"+"width:100%;"+"min-width:100%;"+'background-image:url("'+p+'");'+"background-size:cover;"+"z-index:-1;"+"position:fixed;"+"display:none;"+"top:0px;left:0px;");d.appendChild(v)}}var m=new checkimage;m.init(inertiaObject.mycurrentselection);for(var l=0;l<u;l++){if(o[l].getAttribute("showpane")=="false"){var g=o[l];g.style.background="transparent";g.style.boxShadow="none"}}window.addEventListener("keyup",function(e){if(e.keyCode==39){window.clearTimeout(inertiaObject.autoPlayer);window.clearTimeout(inertiaObject.animationSlideRemoval);navigateNext(inertiaObject.mycurrentselection,parseInt(inertiaObject.mycurrentselection)+1)}else if(e.keyCode==37){window.clearTimeout(inertiaObject.autoPlayer);window.clearTimeout(inertiaObject.animationSlideRemoval);navigatePrev(inertiaObject.mycurrentselection,parseInt(inertiaObject.mycurrentselection)-1)}else if(e.keyCode==72){y()}else{}},false);document.getElementById("next").addEventListener("click",function(){navigateNext(inertiaObject.mycurrentselection,parseInt(inertiaObject.mycurrentselection)+1)},false);document.getElementById("prev").addEventListener("click",function(){navigatePrev(inertiaObject.mycurrentselection,parseInt(inertiaObject.mycurrentselection)-1)},false);document.addEventListener("touchstart",function(e){},false);document.addEventListener("touchend",function(e){},false);var y=function(){var e=inertiaObject.canvas;var t=e[inertiaObject.mycurrentselection].getElementsByClassName("resources");for(var n=0;n<t.length;n++){var r=t[n].getAttribute("highlight");var i=new stylesheet;i.appendSheet("@keyframes highlight{100%{opacity:0.2;}}@keyframes unhighlight{0%{opacity:0.2;}100%{opacity:1;}}@-webkit-keyframes highlight{100%{opacity:0.2;}}@-webkit-keyframes unhighlight{0%{opacity:0.2;}100%{opacity:1;}}");if(r!=null&&r!="false"&&r!=""){}else{if(inertiaObject.highlight){__x(t[n],"animationName","unhighlight");__x(t[n],"animationDuration","1s")}else{__x(t[n],"animationName","highlight");__x(t[n],"animationDuration","1s")}}}if(inertiaObject.highlight){inertiaObject.highlight=false}else{inertiaObject.highlight=true}}}};var resetObjects=function(){inertiaObject.animatestart=0;inertiaObject.highlight=false;inertiaObject.zoomed=false;inertiaObject.zoomedCount=0};var resetAnimations=function(e){__x(e,"animationName","");__x(e,"animationDuration","");__x(e,"animationDelay","");__x(e,"animationFillMode","")};var mytransition=function(e,t){try{this.myElem=inertiaObject.canvas;this.mytrans=this.myElem[e].getAttribute("transition");if(this.mytrans==undefined){this.mytrans="transfadeout"}else{this.mytrans=this.mytrans}this.selection=e;this.next=t}catch(n){console.log(n+" ")}this.checktrans=function(){var e=new execTrans(this.selection,this.next);e[this.mytrans]();getTitle(this.next);setStat(this.next);this.myinterval=inertiaObject.transitionInterval;var t=this.next;var n=inertiaObject.animatestart+1;setTimeout(function(){checkAutoPlay(t,n)},this.myinterval)}};var execTrans=function(e,t){this.transouttarget=e==-1||e==null?false:e;this.transintarget=t;this.animation=new __animationSheet;resetObjects()};var inertiaZoom=function(){this.init=function(){var e=inertiaObject.canvas;for(var t=0;t<e.length;t++){var n=e[t].getElementsByClassName("resources");for(var r=0;r<n.length;r++){var i=new inertiaZoom;i.zoomify(n[r],e[t])}}};this.zoomify=function(e,t){var n=e.getAttribute("zoom");if(n){e.addEventListener("click",function(n){var r=e.clientHeight,i=e.clientWidth,s=r/2,o=i/2,u=screen.height/2,a=screen.width/2,f=e.offsetTop+t.offsetTop,l=e.offsetLeft+t.offsetLeft,c=u-s-f,h=a-o-l,p=inertiaObject.scale,d=false;resetAnimations(t);if(i>r){var v=window.innerWidth-(a-o)}else if(i<r){var v=window.innerHeight-(u-s)}var m="@keyframes zoomed{0%{opacity:1;transform:scale("+p+") translateY(0px) translateX(0px) translateZ(0px);}100%{opacity:1;transform:translateY("+c+"px) translateX("+h+"px) translateZ("+v+"px) scale("+p+");}}"+"@keyframes zoomedout{0%{opacity:1;transform:translateY("+c+"px) translateX("+h+"px) translateZ("+v+"px);}100%{opacity:1;transform:translateY(0px) translateX(0px) translateZ(0px) scale("+p+");}}"+"@-webkit-keyframes zoomed{0%{opacity:1;-webkit-transform:scale("+p+") translateY(0px) translateX(0px) translateZ(0px);}100%{opacity:1;-webkit-transform:translateY("+c+"px) translateX("+h+"px) translateZ("+v+"px);}}"+"@-webkit-keyframes zoomedout{0%{opacity:1;-webkit-transform:translateY("+c+"px) translateX("+h+"px) translateZ("+v+"px);}100%{opacity:1;-webkit-transform:translateY(0px) translateX(0px) translateZ(0px) scale("+p+");}}";var g=new stylesheet;g.appendZoomSheet(m);if(inertiaObject.zoomed==true){__x(t,"animationName","zoomedout");__x(t,"animationDuration","1s");__x(t,"animationFillMode","forwards");setTimeout(function(){inertiaObject.zoomed=false},1e3)}else{__x(t,"animationName","zoomed");__x(t,"animationDuration","1s");__x(t,"animationFillMode","forwards");t.style.opacity="1";inertiaObject.zoomed=true}},false)}}};var animation=function(){this.name=null;this.duration="0s";this.delay="0s";this.fillMode="";this.state="running";this.start=function(e){__x(e,"animationPlayState",this.state);__x(e,"animationName",this.name);__x(e,"animationDuration",this.duration);__x(e,"animationFillMode",this.fillMode);__x(e,"animationDelay",this.delay)}};var checkchild=function(e){this.canvaselement=e;this.myparentCanvas=inertiaObject.canvas;this.mychild=this.myparentCanvas[e].getElementsByClassName("animate");this.mychildLen=this.mychild.length;var t=this.canvaselement;var n=new Array;for(var r=0;r<this.mychildLen;r++){var i=this.mychild[r].getAttribute("animatesequence");n=n.concat(i)}var s=function(e,t){return e-t};var o=this.mychildLen-1;var u=n.sort(this.compareNumbers);if(u[o]==undefined){this.mysize=0;currentAnimationSize=0}else{this.mysize=parseInt(u[o])+1;currentAnimationSize=parseInt(u[o])+1}};checkchild.prototype={animateChild:function(){for(var e=0;e<this.mychildLen;e++){if(this.mychild[e].getAttribute("animatesequence")==inertiaObject.animatestart){var t=this.mychild[e].getAttribute("id");var n=this.mychild[e].getAttribute("animatein");var r=this.mychild[e].getAttribute("animateloop");var i=new childAnimation(t);i[n]();if(r=="undefined"||r==null||r==""){}else{var s=new childAnimationLoop(t);s[r]()}if(this.mychild[e-1]){var o=this.mychild[e-1].getAttribute("id");var u=this.mychild[e-1].getAttribute("animateout");if(u!=null){var a=new childAnimation(o);a[u]()}}}if(this.mychild[e].getAttribute("animatesequence")==inertiaObject.animatestart+1){checkAutoPlay(this.canvaselement,inertiaObject.animatestart+1)}}if(inertiaObject.animatestart==this.mysize){inertiaObject.animatestart=0;return 1}inertiaObject.animatestart+=1},animateCheck:function(){if(inertiaObject.animatestart==this.mysize){inertiaObject.animatestart=0;return 1}}};var childAnimation=function(e){this.childIndex=e;this.mytargetchild=document.getElementById(this.childIndex);this.elemAnimate=this.mytargetchild;this.animation=new __animationSheet};var childAnimationLoop=function(e){this.childIndex=e;this.mytargetchild=document.getElementById(this.childIndex);this.elemAnimate=this.mytargetchild;this.animation=new __animationSheet};var checkimage=function(){this.init=function(e,t){var n=t;var r=inertiaObject.canvas;if(r[e]){if(r[e].getElementsByClassName("backgroundImage")[0]){try{var i=r[e].getElementsByClassName("backgroundImage")[0].getAttribute("imgin")}catch(s){var i=false}if(i!=false){var o=new checkBgAnim("mybg"+e);o[i]()}}}try{var u=r[n].getElementsByClassName("backgroundImage")[0].getAttribute("imgout")}catch(s){var u=false}if(u!=false){var a=new checkBgAnim("mybg"+n);a[u]()}}};var checkBgAnim=function(e){this.target=e;this.animation=new __animationSheet};var __animationSheet=function(){this.initialize={mySheet:function(){var e=new stylesheet;e.checkSheet()},myNewRule:function(e){var t=new stylesheet;t.appendSheet(e)},transform:function(e){var t=inertiaObject.canvas;try{var n=e.outcoming.object}catch(r){var n=null}try{var i=e.incoming.object}catch(r){var i=null}if(n!=null&&t[n]!=undefined){var s=e.outcoming.name?e.outcoming.name:console.log("Error! No animation name!");var o=e.outcoming.duration?e.outcoming.duration:"0s";var u=e.outcoming.delay?e.outcoming.delay:"0s";var a=e.outcoming.fillmode?e.outcoming.fillmode:"forwards";var f=new animation;f.name=s;f.duration=o;f.fillMode=a;f.delay=u;f.start(t[n]);if(o.match(/ms/g)){var l=parseInt(o);inertiaObject.transitionInterval=l;inertiaObject.animationSlideRemoval=setTimeout(function(){t[n].style.display="none";t[n].style.zIndex="-10"},l)}else{var l=parseInt(o)*1e3;inertiaObject.transitionInterval=l;inertiaObject.animationSlideRemoval=setTimeout(function(){t[n].style.display="none";t[n].style.zIndex="-10"},l)}}if(i!=null&&t[i]!=undefined){var s=e.incoming.name?e.incoming.name:console.log("Error! No animation name!");var o=e.incoming.duration?e.incoming.duration:"0s";var u=e.incoming.delay?e.incoming.delay:"0s";var a=e.incoming.fillmode?e.incoming.fillmode:"forwards";t[i].style.display="block";t[i].style.zIndex="10";var f=new animation;f.name=s;f.duration=o;f.fillMode=a;f.delay=u;f.start(t[i])}},enterRule:function(e){e.object.style.display="block";var t=e.enter?e.enter:console.log("Must have animation name!");var n=e.duration?e.duration:"0s";var r=e.delay?e.delay:"0s";var i=e.fill?e.fill:"forwards";var s=new animation;s.name=t;s.duration=n;s.fillMode=i;s.delay=r;s.start(e.object)},loopRule:function(e){if(e.mode=="once"){var t="forwards"}else if(e.mode=="loop"){var t="infinite"}else{var t="forwards"}var n=e.loop?e.loop:alert("No animation name");var r=e.duration?e.duration:"0s";var i=e.delay?e.delay:"0s";__x(e.object,"animation",n+" "+r+" "+t+" "+i)},transformImage:function(e){try{var t=document.getElementById(e.bg);t.style.display="block";__x(t,"animationPlayState","running");__x(t,"animationName",e.bgImage);__x(t,"animationDuration",e.bgDuration);__x(t,"animationFillMode","forwards");__x(t,"animationDelay",e.bgDelay)}catch(n){alert(n)}}}};var stylesheet=function(){this.stylerule=document.getElementById("stylesheet");this.zoomrule=document.getElementById("zoomsheet")};stylesheet.prototype={checkSheet:function(){if(this.stylerule==null){try{var e=document.createElement("style");var t=document.getElementsByTagName("body")[0];e.setAttribute("type","text/css");e.setAttribute("rel","stylesheet");e.setAttribute("id","stylesheet");t.appendChild(e)}catch(n){alert("Style sheet "+n)}}},checkZoomSheet:function(){if(this.zoomrule==null){try{var e=document.createElement("style");var t=document.getElementsByTagName("body")[0];e.setAttribute("type","text/css");e.setAttribute("rel","stylesheet");e.setAttribute("id","zoomsheet");t.appendChild(e)}catch(n){alert("Style sheet "+n)}}},appendSheet:function(e){var t=this.stylerule.innerHTML;this.stylerule.innerHTML=e+t},appendZoomSheet:function(e){this.zoomrule.innerHTML=e}};var initializeResources=function(){};initializeResources.prototype={load:function(e){var t=inertiaObject.canvas;if(t[e]){var n=t[e].getElementsByClassName("resources");for(var r=0;r<n.length;r++){var i=n[r].getAttribute("animatein");var s=n[r].getAttribute("blockflow");if(i==undefined||i==""){}else{n[r].style.display="none";if(s){}else{n[r].style.position="absolute"}var o=n[r].getAttribute("animatesequence");var u=Math.floor(Math.random()*1e4+1);n[r].setAttribute("id",u);n[r].className+=" "+"animate";resetAnimations(n[r])}}}}};var __x=function(e,t,n){var r=navigator.userAgent;var i=r.match("Firefox")?true:false;var s=r.match("Chrome")?true:false;var o=r.match("Opera")?true:false;switch(t){case"perspective":return i?e.style.perspective=n:s?e.style.webkitPerspective=n:"yuck";break;case"animation":return i?e.style.animation=n:s?e.style.webkitAnimation=n:"yuck";break;case"animationName":return i?e.style.animationName=n:s?e.style.webkitAnimationName=n:"yuck";break;case"animationDuration":return i?e.style.animationDuration=n:s?e.style.webkitAnimationDuration=n:"yuck";break;case"animationFillMode":return i?e.style.animationFillMode=n:s?e.style.webkitAnimationFillMode=n:"yuck";break;case"animationDelay":return i?e.style.animationDelay=n:s?e.style.webkitAnimationDelay=n:"yuck";break;case"animationDirection":return i?e.style.animationDirection=n:s?e.style.webkitAnimationDirection=n:"yuck";break;case"animationPlayState":return i?e.style.animationPlayState=n:s?e.style.webkitAnimationPlayState=n:"yuck";break;case"transformStyle":return i?e.style.transformStyle=n:s?e.style.webkitTransformStyle=n:"yuck";break}};var simulate3d=function(){var e=document.getElementsByTagName("presentation-view")[0]!=null?document.getElementsByTagName("presentation-view")[0]:alert("Incomplete HTML : You must wrap all slides in 'presentation-view'");e.style.position="fixed";e.style.width="100%";e.style.height="100%";e.style.top="0px";e.style.left="0px";__x(e,"perspective","1200px");__x(e,"transformStyle","preserve-3d")};var animationLoop=childAnimationLoop.prototype={};var contentAnimation=childAnimation.prototype={};var backgroundAnimation=checkBgAnim.prototype={};var canvasTransition=execTrans.prototype={}
